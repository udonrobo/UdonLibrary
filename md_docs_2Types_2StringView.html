<!-- HTML header for doxygen 1.10.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="Udon.png" type="image/x-icon" />
<title>UdonLibrary: StringView</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="toc"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo">
                <a href="https://github.com/udonrobo/UdonLibrary">
                  <img alt="Logo" src="Udon.png"  />
                </a>
              </td>
              <td id="projectalign">
                <div id="projectname">UdonLibrary<span
                    id="projectnumber">&#160;1.0.0</span>
                </div>
                <div id="projectbrief">機械システム研究部 C++ ライブラリ</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- 構築: Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','検索',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2Types_2StringView.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">読み取り中…</div>
<div class="SRStatus" id="Searching">検索中…</div>
<div class="SRStatus" id="NoMatches">一致する文字列を見つけられません</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">StringView</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md285"></a></p>
<p>文字列を保持せず、参照するクラスです。<code>std::string_view</code> と同義です。<code>std::string</code> と異なり、ヒープアロケーションが発生しないため効率の良い文字列操作を行えます。次のように実装されています。</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>StringView</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* data;</div>
<div class="line">    <span class="keywordtype">size_t</span>      size;</div>
<div class="line">};</div>
</div><!-- fragment --><p>data ポインタは確保済みの領域を指すのみで、メモリの所有権 (メモリを解放する義務) を持ちません。</p>
<h1><a class="anchor" id="autotoc_md286"></a>
個別インクルード</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="StringView_8hpp.html">Udon/Types/StringView.hpp</a>&gt;</span></div>
<div class="ttc" id="aStringView_8hpp_html"><div class="ttname"><a href="StringView_8hpp.html">StringView.hpp</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md287"></a>
std::string との違い</h1>
<p>std::string は動的にメモリを確保し文字列を保持します。そのため下記の例では 3 度、ヒープへのメモリアロケーションが発生します。</p>
<div class="fragment"><div class="line">std::string src = <span class="stringliteral">&quot;hello world !!&quot;</span>;</div>
<div class="line">std::string hello = src.substr(0, 5);  <span class="comment">// hello</span></div>
<div class="line">std::string world = src.substr(6, 5);  <span class="comment">// world</span></div>
</div><!-- fragment --><p>StringView の場合、ヒープアロケーションは発生しません。"hello world !!" という、データ領域に確保されている文字列をポインタで指しているためです。そのためアロケーションは発生しませんが <code>std::string</code> と違い文字列の書き換えはできません。</p>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> src = <span class="stringliteral">&quot;hello world !!&quot;</span>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> hello = src.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a365f96d145406fb904d30b60cc8c5042">substr</a>(0, 5);  <span class="comment">// hello</span></div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> world = src.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a365f96d145406fb904d30b60cc8c5042">substr</a>(6, 5);  <span class="comment">// world</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a365f96d145406fb904d30b60cc8c5042"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a365f96d145406fb904d30b60cc8c5042">Udon::BasicStringView::substr</a></div><div class="ttdeci">BasicStringView substr(const size_type pos, const size_type n=npos) const</div><div class="ttdoc">指定された範囲のビューを作成する</div><div class="ttdef"><b>Definition</b> StringView.hpp:189</div></div>
<div class="ttc" id="anamespaceUdon_html_a8e337ae884cfbde61c416c8c2049aea6"><div class="ttname"><a href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a></div><div class="ttdeci">BasicStringView&lt; char &gt; StringView</div><div class="ttdef"><b>Definition</b> StringView.hpp:385</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md288"></a>
<code>std::ostream</code> オブジェクトへの出力</h1>
<p>標準出力へ</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; sv &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>ファイルへ</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line">    std::ofstream file{ <span class="stringliteral">&quot;output.txt&quot;</span> };</div>
<div class="line">    file &lt;&lt; sv;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md289"></a>
USB シリアルへの出力</h1>
<p>Arduino 環境では USB シリアルへ出力できます。出力値はシリアルモニターで確認できます。</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> setup()</div>
<div class="line">{</div>
<div class="line">    Serial.begin(115200);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line">    sv.show();      <span class="comment">// hello</span></div>
<div class="line">    sv.showRaw();   <span class="comment">// [ h, e, l, l, o ]</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md290"></a>
サイズ</h1>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">size_t</span> size = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a1cb7b14ecfcef43359d802a53b92f62a">size</a>();  <span class="comment">// 5</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> empty = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#af9fc3e2f9549c7b75efba5c5a80be3ac">empty</a>();  <span class="comment">// false</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a1cb7b14ecfcef43359d802a53b92f62a"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a1cb7b14ecfcef43359d802a53b92f62a">Udon::BasicStringView::size</a></div><div class="ttdeci">constexpr size_type size() const noexcept</div><div class="ttdoc">ビューのサイズを取得する</div><div class="ttdef"><b>Definition</b> StringView.hpp:137</div></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_af9fc3e2f9549c7b75efba5c5a80be3ac"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#af9fc3e2f9549c7b75efba5c5a80be3ac">Udon::BasicStringView::empty</a></div><div class="ttdeci">constexpr bool empty() const noexcept</div><div class="ttdoc">ビュー終端にヌル終端文字を含むことは保証されないので c_str() は提供しない</div><div class="ttdef"><b>Definition</b> StringView.hpp:147</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md291"></a>
文字アクセス</h1>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> front = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#ae11f20109d391ed882139ca1652868cd">front</a>();  <span class="comment">// h</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> back = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#ab0985a818b27ddcc5220c5f2f5be82cb">back</a>();  <span class="comment">// 0</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> l = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#abc04a9748e0368b66deb65dfc5fc08af">at</a>(2);  <span class="comment">// l</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> h = sv[0];  <span class="comment">// h</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* data = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a04fb86f2eccbe15ac0bd8acfc6446875">data</a>();  <span class="comment">// 文字列先頭ポインタ</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a04fb86f2eccbe15ac0bd8acfc6446875"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a04fb86f2eccbe15ac0bd8acfc6446875">Udon::BasicStringView::data</a></div><div class="ttdeci">constexpr const_pointer data() const noexcept</div><div class="ttdoc">ビューへのポインタを取得する</div><div class="ttdef"><b>Definition</b> StringView.hpp:130</div></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_ab0985a818b27ddcc5220c5f2f5be82cb"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#ab0985a818b27ddcc5220c5f2f5be82cb">Udon::BasicStringView::back</a></div><div class="ttdeci">constexpr const_reference back() const noexcept</div><div class="ttdoc">ビューの終端の文字を取得する</div><div class="ttdef"><b>Definition</b> StringView.hpp:180</div></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_abc04a9748e0368b66deb65dfc5fc08af"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#abc04a9748e0368b66deb65dfc5fc08af">Udon::BasicStringView::at</a></div><div class="ttdeci">const_reference at(const size_type index) const noexcept</div><div class="ttdoc">指定されたインデックスの文字を取得する</div><div class="ttdef"><b>Definition</b> StringView.hpp:161</div></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_ae11f20109d391ed882139ca1652868cd"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#ae11f20109d391ed882139ca1652868cd">Udon::BasicStringView::front</a></div><div class="ttdeci">constexpr const_reference front() const noexcept</div><div class="ttdoc">ビューの先頭文字を取得する</div><div class="ttdef"><b>Definition</b> StringView.hpp:173</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md292"></a>
部分文字列作成</h1>
<h2><a class="anchor" id="autotoc_md293"></a>
■ 指定された位置から N 文字の部分文字列を作成</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello world&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a365f96d145406fb904d30b60cc8c5042">substr</a>(6, 5);  <span class="comment">// w から 5文字取得</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;world&quot; }</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello world&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a365f96d145406fb904d30b60cc8c5042">substr</a>(1);  <span class="comment">// e から末尾まで</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;ello world&quot; }</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md294"></a>
■ 指定された終端文字までの部分文字列を作成</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello world\n hogehoge&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a2b9420d26d4ec9d59cf7fb6349f11276">substrUntil</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;hello world&quot; }</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a2b9420d26d4ec9d59cf7fb6349f11276"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a2b9420d26d4ec9d59cf7fb6349f11276">Udon::BasicStringView::substrUntil</a></div><div class="ttdeci">BasicStringView substrUntil(const char_type terminate) const</div><div class="ttdoc">指定された終端文字までのビューを作成する</div><div class="ttdef"><b>Definition</b> StringView.hpp:213</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md295"></a>
■ 先頭の N 文字を削除した部分文字列を作成</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;message: error&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#aa240a1a5f8962f3987fb608e10820caa">removePrefix</a>(9);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;error&quot; }</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_aa240a1a5f8962f3987fb608e10820caa"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#aa240a1a5f8962f3987fb608e10820caa">Udon::BasicStringView::removePrefix</a></div><div class="ttdeci">BasicStringView removePrefix(const size_type n) const</div><div class="ttdoc">先頭のN文字を削除したビューを作成する</div><div class="ttdef"><b>Definition</b> StringView.hpp:224</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md296"></a>
■ 末尾の N 文字を削除した部分文字列を作成</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;message: error&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a958a238fe98242e2296264855e6109d7">removeSuffix</a>(7);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;message&quot; }</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a958a238fe98242e2296264855e6109d7"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a958a238fe98242e2296264855e6109d7">Udon::BasicStringView::removeSuffix</a></div><div class="ttdeci">BasicStringView removeSuffix(const size_type n) const</div><div class="ttdoc">末尾のN文字を削除したビューを作成する</div><div class="ttdef"><b>Definition</b> StringView.hpp:239</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md297"></a>
■ 指定された区切り文字で区切り、部分文字列のリストを作成</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;Hello I am Japanese&quot;</span>;</div>
<div class="line"> </div>
<div class="line">std::vector&lt;Udon::StringView&gt; result = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#aa5071ea5e7107f835e4a3fd357a97202">split</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// result: { &quot;Hello&quot;, &quot;I&quot;, &quot;am&quot;, &quot;Japanese&quot; }</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_aa5071ea5e7107f835e4a3fd357a97202"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#aa5071ea5e7107f835e4a3fd357a97202">Udon::BasicStringView::split</a></div><div class="ttdeci">std::vector&lt; BasicStringView &gt; split(const char_type delimiter) const</div><div class="ttdoc">指定された区切り文字で区切り、ビューのリストを作成する</div><div class="ttdef"><b>Definition</b> StringView.hpp:270</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md298"></a>
文字列比較</h1>
<h2><a class="anchor" id="autotoc_md299"></a>
■ 単純な文字列比較</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> a = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> b = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> eq = a == b;  <span class="comment">// true</span></div>
<div class="line"><span class="keywordtype">bool</span> ne = a != b;  <span class="comment">// false</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md300"></a>
■ 指定の文字列で始まっているか判定</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> src = <span class="stringliteral">&quot;hello world&quot;</span>;</div>
<div class="line"><span class="keywordtype">bool</span> result = src.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#aa674abb59e9577103182aae5d5391686">startsWith</a>(<span class="stringliteral">&quot;hello&quot;</span>);   <span class="comment">// result: true</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_aa674abb59e9577103182aae5d5391686"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#aa674abb59e9577103182aae5d5391686">Udon::BasicStringView::startsWith</a></div><div class="ttdeci">bool startsWith(const BasicStringView &amp;string) const noexcept</div><div class="ttdoc">ビューが指定したビューから始まっているか判定する</div><div class="ttdef"><b>Definition</b> StringView.hpp:254</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md301"></a>
■ 指定の文字列で終わっているか判定</h2>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> src = <span class="stringliteral">&quot;hello world&quot;</span>;</div>
<div class="line"><span class="keywordtype">bool</span> result = src.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#aa61309da53631a5e69e3eb14eb8c7950">endsWith</a>(<span class="stringliteral">&quot;world&quot;</span>);   <span class="comment">// result: true</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_aa61309da53631a5e69e3eb14eb8c7950"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#aa61309da53631a5e69e3eb14eb8c7950">Udon::BasicStringView::endsWith</a></div><div class="ttdeci">bool endsWith(const BasicStringView &amp;string) const noexcept</div><div class="ttdoc">ビューが指定したビューで終わっているか判定する</div><div class="ttdef"><b>Definition</b> StringView.hpp:262</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md302"></a>
イテレータ</h1>
<p>イテレータを定義しているため for 文などでイテレーションできます。</p>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">char</span> c : sv)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello world&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> it = std::find(sv.begin(), sv.end(), <span class="charliteral">&#39;w&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (it != sv.end())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> index = std::distance(sv.begin(), it);</div>
<div class="line">    <span class="comment">// index: 6</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md303"></a>
数値への変換</h1>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> <span class="keywordtype">string</span> = <span class="stringliteral">&quot;1234&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classUdon_1_1Optional.html">Udon::Optional&lt;int&gt;</a> numopt = <span class="keywordtype">string</span>.toNumber&lt;int&gt;())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> number = *numopt;</div>
<div class="line">    <span class="comment">// number: 1234</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassUdon_1_1Optional_html"><div class="ttname"><a href="classUdon_1_1Optional.html">Udon::Optional</a></div><div class="ttdoc">オプショナル型</div><div class="ttdef"><b>Definition</b> Optional.hpp:62</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> <span class="keywordtype">string</span> = <span class="stringliteral">&quot;Double: 1234.12&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_class" href="classUdon_1_1Optional.html">Udon::Optional&lt;double&gt;</a> numopt = <span class="keywordtype">string</span>.removePrefix(8).toNumber&lt;double&gt;())</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">double</span> number = *numopt;</div>
<div class="line">    <span class="comment">// number: 1234.12</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md304"></a>
入れ替え</h1>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv1 = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv2 = <span class="stringliteral">&quot;world&quot;</span>;</div>
<div class="line"> </div>
<div class="line">std::swap(sv1, sv2);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// sv1: { &quot;world&quot; }</span></div>
<div class="line"><span class="comment">// sv2: { &quot;hello&quot; }</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv1 = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv2 = <span class="stringliteral">&quot;world&quot;</span>;</div>
<div class="line"> </div>
<div class="line">sv1.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#a269dc2c9b1f50d8e749318cd014e18c2">swap</a>(sv2);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// sv1: { &quot;world&quot; }</span></div>
<div class="line"><span class="comment">// sv2: { &quot;hello&quot; }</span></div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_a269dc2c9b1f50d8e749318cd014e18c2"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#a269dc2c9b1f50d8e749318cd014e18c2">Udon::BasicStringView::swap</a></div><div class="ttdeci">void swap(BasicStringView &amp;other) noexcept</div><div class="ttdoc">ビューを入れ替える</div><div class="ttdef"><b>Definition</b> StringView.hpp:313</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md305"></a>
文字列リテラル</h1>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceUdon_1_1Literals.html">Udon::Literals</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> sv = <span class="stringliteral">&quot;hello world&quot;</span>_sv;</div>
<div class="ttc" id="anamespaceUdon_1_1Literals_html"><div class="ttname"><a href="namespaceUdon_1_1Literals.html">Udon::Literals</a></div><div class="ttdef"><b>Definition</b> StringView.hpp:393</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md306"></a>
std::string への変換</h1>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="namespaceUdon.html#a8e337ae884cfbde61c416c8c2049aea6">Udon::StringView</a> sv = <span class="stringliteral">&quot;hello&quot;</span>;</div>
<div class="line"> </div>
<div class="line">std::string str = sv.<a class="code hl_function" href="classUdon_1_1BasicStringView.html#aa129f04090c1035790778877251ce57e">toString</a>();</div>
<div class="ttc" id="aclassUdon_1_1BasicStringView_html_aa129f04090c1035790778877251ce57e"><div class="ttname"><a href="classUdon_1_1BasicStringView.html#aa129f04090c1035790778877251ce57e">Udon::BasicStringView::toString</a></div><div class="ttdeci">std::basic_string&lt; char_type &gt; toString() const</div><div class="ttdoc">STL の文字列に変換する</div><div class="ttdef"><b>Definition</b> StringView.hpp:306</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! --></div>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeFragmentCopyButton.init()
</script>
</body>
</html>
